<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>


    <script>
            var es = "es6";
            es = '2015'
            console.log(2015)


            const es1 = "es6";
            // es1 = '222';   报错
            console.log(es1);


            //  const 不属于顶层对象window
            // const str1 = "str";
            // console.log(window.str1);

// --- start
            // 变量提升
            // console.log(str1);
            // var str1 = 'es6'  // undefined

            // // 相当于
            // var st2;
            // console.log(st2);
            // st2 = 'es6'

            // //  不存在变量提升
            // console.log(str3) 
            // const str3 = 'els';


// ---end

        //  有块级作用域的
        // if(true) {
        //     const str4 = 'es6';
        // }
        // console.log(str4)



            const cObj = {
                name: "es6",
                year: 2015
            }

            Object.freeze(cObj);
            cObj.name = 'es3'
            console.log(cObj) 
            

            const array1 = ['es1','es2','es3'];
            // 冻结
            Object.freeze(array1);
            array1[0] = 'es4'
            console.log(array1)


            const cObj1 = {
                name: "es6",
                year: 2015,
                extents: ['es1','es2','es3']
            }
            // Object.freeze(cObj1);
            myFreeze(cObj1)
            cObj1.extents[0]= 'es0'  // 不能冻结深层次的数据
            console.log(cObj1)




        // 递归冻结
        function myFreeze(obj) {
                Object.freeze(obj);
                Object.keys(obj).forEach(function(key) {
                    if(typeof obj[key] == 'object') {
                        myFreeze(obj[key])
                    }
                })
        }
    </script>

</body>
</html>